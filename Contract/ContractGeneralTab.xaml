<RazerBase:ScreenBase x:Class="Contract.ContractGeneralTab" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:RazerBase="clr-namespace:RazerBase;assembly=RazerBase"
             xmlns:Converters="clr-namespace:RazerConverters;assembly=RazerConverters" 
                  xmlns:Contract="clr-namespace:Contract" 
             mc:Ignorable="d" 
             d:DesignHeight="1080" d:DesignWidth="1000"
             Height="Auto" Width="Auto" Background="{DynamicResource ApplicationBackground}">
    <UserControl.Resources>

        <Converters:cTextFormat x:Key="DateFormat"/>
    </UserControl.Resources>
    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            <ColumnDefinition />
            
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="10" />
            <RowDefinition MinHeight="150" />
            <RowDefinition  Height="15"/>
            <RowDefinition MinHeight="180"/>
            <RowDefinition Height="15"/>
            <RowDefinition MinHeight="150"/>
            <RowDefinition Height="10" />
            <RowDefinition MinHeight="250" />
            <RowDefinition  />
            <RowDefinition  />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        
        <!--Top Grouping for the control-->
        <Border Grid.ColumnSpan="5" Grid.Row="1" BorderBrush="Gray" BorderThickness="0,0,0,1" Margin="0,10,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="10" />
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="150"/>
                    
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition  Height="10"  />
                </Grid.RowDefinitions>
                <RazerBase:ucLabelTextBox Name="txtBillMsoId" LabelText="Contract Entity ID:" BindPath="bill_mso_id" Grid.Column="1" LabelWidth="120" 
                                          MouseDoubleClick="txtBillMsoId_MouseDoubleClick" LostFocus="txtBillMsoId_LostFocus"/>
                <RazerBase:ucLabelTextBox Name="txtReceivableAccount" LabelText="Customer ID:" BindPath="receivable_account" Grid.Column="1"
                                          Grid.Row="1" LabelWidth="120" MouseDoubleClick="txtReceivableAccount_MouseDoubleClick" LostFocus="txtReceivableAccount_LostFocus" />
                <RazerBase:ucLabelTextBox Name="txtContractDescription" LabelText="Description:" Text="{Binding Path=contract_description, Mode=TwoWay}" Grid.Column="1" Grid.Row="2" Grid.ColumnSpan="5" LabelWidth="120" />
                <RazerBase:ucLabelTextBox Name="txtContractEntity" LabelText="Contract Entity Name:" BindPath="contract_entity" Grid.Column="3" Grid.ColumnSpan="3" LabelWidth="130"  IsReadOnly="True" MouseDoubleClick="txtContractEntity_MouseDoubleClick" />
                <RazerBase:ucLabelTextBox Name="txtCustomerName" LabelText="Customer Name:" BindPath="customer_name" Grid.Column="3" Grid.Row="1" Grid.ColumnSpan="3" LabelWidth="120" IsReadOnly="True"   />
                <RazerBase:ucLabelComboBox Name="cmbProductCode" Grid.Column="1" Grid.Row="3" LabelText="Product:" LabelWidth="113" SelectedValue="{Binding Path=product_code, Mode=TwoWay}" SelectionChanged="cmbProductCode_SelectionChanged" />
                <RazerBase:ucLabelCheckBox Name="txtContractedFlag" Grid.Column="6" Grid.Row="0" LabelText="Contracted:" BindPath="contracted_flag" LabelWidth="120"
                                IsEnabled="{Binding ElementName=txtArchiveFlag, Path=IsChecked, Converter={StaticResource BooleanReversal}}"
                                Checked="txtContractedFlag_Checked" />
                <RazerBase:ucLabelCheckBox Name="txtContractStatus" Grid.Column="6" Grid.Row="1" LabelText="Inactive:" BindPath="contract_status" LabelWidth="120"
                            IsEnabled="{Binding ElementName=txtArchiveFlag, Path=IsChecked, Converter={StaticResource BooleanReversal}}"
                            Checked="txtContractStatus_Checked" />
                <RazerBase:ucLabelCheckBox Name="txtEvergreen" Grid.Column="6" Grid.Row="2" LabelText="Evergreen:" BindPath="evergreen" LabelWidth="120" Checked="txtEvergreen_Checked" UnChecked="txtEvergreen_Checked"  />
                <RazerBase:ucLabelCheckBox Name="txtArchiveFlag" Grid.Column="6" Grid.Row="3" LabelText="Archived:" BindPath="archive_flag" LabelWidth="120" Checked="txtArchiveFlag_Checked"   />

                </Grid>
        </Border>

        <Border Grid.ColumnSpan="5"  Grid.Row="3" BorderBrush="Gray" BorderThickness="0,0,0,1" >
            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="10" />
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="180"/>
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                        <RowDefinition />
                        <RowDefinition  Height="10"  />
                </Grid.RowDefinitions>
                    <RazerBase:ucLabelDatePicker Name="ldtExecutionDate" Grid.Row="0" Grid.Column="1"  LabelWidth="120" BindPath="execution_date" LabelText="Execution Date:" />
                    <RazerBase:ucLabelDatePicker Name="ldtEffectiveDate" Grid.Row="0" Grid.Column="3"  LabelWidth="120" BindPath="effective_date" LabelText="Effective Date:" LostFocus="CalcTerm" />
                    <RazerBase:ucLabelDatePicker Name="txtExpirationDate" LabelText="Initial Expiration:" BindPath="expiration_date" Grid.Column="5" Grid.Row="0" LabelWidth="120" IsReadOnly="True"  />
                    <!--<RazerBase:ucLabelTextBox Name="txtExpirationDate" LabelText="Expiration Date:" Text="{Binding Path=expiration_date, Mode=TwoWay,StringFormat={}{0:MM/dd/yyyy}}"
                                      Grid.Column="5" Grid.Row="0" LabelWidth="120" IsReadOnly="True"  />-->
                    <RazerBase:ucLabelTextBox Name="txtTerm" LabelText="Term:" BindPath="term" Grid.Column="1" Grid.Row="1" LabelWidth="120" LostFocus="CalcTerm" />
                    <RazerBase:ucLabelTextBox Name="txtRenewalTerms" LabelText="Renewal Terms:" BindPath="renewal_terms" Grid.Column="3" Grid.Row="1" LabelWidth="120" LostFocus="CalcTerm" />
                    <RazerBase:ucLabelDatePicker Name="txtRenewalDate" LabelText="Renewal Expiration:" BindPath="renewal_date" Grid.Row="1" Grid.Column="5" LabelWidth="120" IsReadOnly="True"  />
                    <!--<RazerBase:ucLabelTextBox Name="txtRenewalDate" LabelText="Renewal Exp Date:" Text="{Binding Path=renewal_date, Mode=TwoWay,StringFormat={}{0:MM/dd/yyyy}}"
                                      Grid.Row="1" Grid.Column="5" LabelWidth="120" IsReadOnly="True"  />-->
                    <RazerBase:ucLabelTextBox Name="txtRenewalTerm" LabelText="Renewal Term:" BindPath="renewal_term" Grid.Row="2" Grid.Column="1" LabelWidth="120" LostFocus="CalcTerm"  />
                    <RazerBase:ucLabelTextBox Name="txtTerminationNotice" LabelText="Termination Notice:" BindPath="termination_notice" Grid.Row="2" Grid.Column="3" LabelWidth="120" />
                    <RazerBase:ucLabelDatePicker Name="ldtAmendmentDate" Grid.Row="2" Grid.Column="5"  LabelWidth="120" BindPath="amendment_date" LabelText="Amendment Date:" />
                    <RazerBase:ucLabelTextBox Name="txtAmendmentDescription" LabelText="Amendment Description:" BindPath="amendment_description" Grid.Row="3" Grid.Column="1" LabelWidth="150" Grid.ColumnSpan="5" />
                </Grid>
        </Border>

        <Border Grid.ColumnSpan="5"  Grid.Row="5" BorderBrush="Gray" BorderThickness="0,0,0,1" >
            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="10" />
                    <ColumnDefinition MinWidth="250" Width="250*" />
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="250" Width="250*" />
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="250" Width="250*" />
                    <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="148*" />
                    </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition Height="35"/>
                    <RowDefinition  Height="10"  />
                </Grid.RowDefinitions>
                <RazerBase:ucLabelCheckBox Name="txtNoColaFlag" LabelText="Apply Cola:" BindPath="no_cola_flag" Grid.Column="1" LabelWidth="120" Checked="txtNoColaFlag_Checked" />
                <RazerBase:ucLabelDatePicker Name="ldtEffColaDate" Grid.Row="0" Grid.Column="3"  LabelWidth="120" BindPath="eff_cola_date" LabelText="Eff Cola Date:"  IsEnabled="{Binding ElementName=txtNoColaFlag, Path=IsChecked}"/>
                <RazerBase:ucLabelComboBox Name="cmbColaID" Grid.Column="5" Grid.Row="0" LabelText="Cola:" LabelWidth="113" PropertyChanged="cmbColaID_PropertyChanged" SelectedValue="{Binding Path=cola_id, Mode=TwoWay}" IsEnabled="{Binding ElementName=txtNoColaFlag, Path=IsChecked}" />
                <RazerBase:ucLabelDatePicker Name="ldtColaSourceDate" Grid.Row="1" Grid.Column="1"  LabelWidth="120" BindPath="cola_source_date" LabelText="Cola Source Date:" IsEnabled="{Binding ElementName=txtNoColaFlag, Path=IsChecked}" />
                <RazerBase:ucLabelCheckBox Name="txtRevRecApprovalFlag" LabelText="Rev Rec Approval:" BindPath="rev_rec_approval_flag" Grid.Row="3" Grid.Column="6" LabelWidth="120" />
                <RazerBase:ucLabelCheckBox Name="txtRecognizeCashFlag" LabelText="Recognize Cash:" BindPath="recognize_cash_flag" Grid.Row="2" Grid.Column="6" LabelWidth="120"  />
                <RazerBase:ucLabelComboBox Name="cmbRevenueType" Grid.Column="1" Grid.Row="2" LabelText="Revenue Type:" LabelWidth="113" SelectedValue="{Binding Path=revenue_type_id, Mode=TwoWay}" />
                <RazerBase:ucLabelTextBox Name="txtCancellationFee" LabelText="Cancellation Fee:" BindPath="cancellation_fee" Grid.Row="2" Grid.Column="3" LabelWidth="120"  />
                <RazerBase:ucLabelCheckBox Name="txtCancellationRefundClauseFlag" LabelText="Cancellation Refund:" BindPath="cancellation_refund_clause_flag" Grid.Row="1" Grid.Column="3" LabelWidth="140"  />
                <RazerBase:ucLabelCheckBox Name="txtPriceListFeeException" LabelText="Price List Fee:" BindPath="price_list_fee_exception" Grid.Row="3" Grid.Column="1" LabelWidth="120" />
                <RazerBase:ucLabelComboBox Name="cmbPaymentTerms" Grid.Column="3" Grid.Row="3" LabelText="Payment Terms:" LabelWidth="113" SelectedValue="{Binding Path=payment_terms, Mode=TwoWay}" />
                <!--<RazerBase:ucLabelTextBox Name="txtCumulativeDigits" LabelText="Cumulative Rate Override:" BindPath="cumulative_digits"  Grid.Row="3" Grid.Column="5" LabelWidth="170" />-->
                <RazerBase:ucLabelCheckBox Name="txtTermsApproval" LabelText="Terms Approval:" BindPath="terms_approval" Grid.Row="1" Grid.Column="6" LabelWidth="120" />
                <RazerBase:ucLabelTextBox  Name="txtCOLAMin" Grid.Row="1" Grid.Column="5" LabelText="COLA Min %:" Text ="{Binding Path=cola_min,StringFormat={}{0}%}"  LabelWidth="120" IsEnabled="False"/>
                <RazerBase:ucLabelTextBox  Name="txtCOLAMax" Grid.Row="2" Grid.Column="5" LabelText="COLA Max %:" Text ="{Binding Path=cola_max,StringFormat={}{0}%}"  LabelWidth="120" IsEnabled="False"/>
                <RazerBase:ucLabelTextBox  Name="txtCOLAComments" Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="6" LabelText="COLA Comments:" Text ="{Binding Path=cola_comments}" IsEnabled="{Binding ElementName=txtNoColaFlag, Path=IsChecked}" LabelWidth="120" MaxLength="120"/>
                <RazerBase:ucLabelCheckBox Name="txtColaAnnualFlag" LabelText="Cola Annual:" BindPath="cola_regular_annual_flag" Grid.Row="3" Grid.Column="5" LabelWidth="120" Visibility="Collapsed"/>
                <RazerBase:ucLabelCheckBox Name="txtCOLARuleOverride" LabelText="COLA Rule Override:" Grid.Row="0" Grid.Column="6" LabelWidth="120" IsEnabled="False" />
                </Grid>
        </Border>

        <Border Grid.ColumnSpan="5"  Grid.Row="7" >
            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="10" />
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition MinWidth="250"/>
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <RazerBase:ucLabelDatePicker Name="ldtBillActivationDate" Grid.Row="0" Grid.Column="1" LabelText="Bill Activation Date:" LabelWidth="120" BindPath="bill_activation_date" />
                <RazerBase:ucLabelDatePicker Name="ldtBeginBillDate" Grid.Row="0" Grid.Column="3" LabelText="Begin Bill Date:" LabelWidth="120" BindPath="begin_bill_date" />
                <RazerBase:ucLabelDatePicker Name="ldtModifiedLaunchDate" Grid.Row="0" Grid.Column="5" LabelText="Mod Launch Date:" LabelWidth="120" BindPath="modified_launch_date" />
                    <RazerBase:ucLabelCheckBox Name="txtPrescheduleBillFlag" LabelText="Preschedule Billing:" BindPath="preschedule_billing_flag" Grid.Row="0" Grid.Column="6" LabelWidth="140"   />
                    <RazerBase:ucLabelTextBox Name="txtBillFrequency" LabelText="Bill Frequency:" BindPath="bill_frequency"  Grid.Row="1" Grid.Column="1" LabelWidth="120" />
                <RazerBase:ucLabelDatePicker Name="ldtEndBillDate" Grid.Row="1" Grid.Column="3" LabelText="End Bill Date:" LabelWidth="120" BindPath="end_bill_date" />
                <RazerBase:ucLabelCheckBox Name="txtNeverBillFlag" LabelText="Never Bill Flag:" BindPath="never_bill_flag" Grid.Row="1" Grid.Column="5" LabelWidth="140"  />
                    <RazerBase:ucLabelTextBox Name="txtPrescheduleDayofMo" LabelText="Day of Month to Preschedule:" BindPath="preschedule_day_of_month" Grid.Row="1" Grid.Column="6" LabelWidth="170"   />
                    <RazerBase:ucLabelTextBox Name="txtLastBillDocument" LabelText="Last Bill Document:" BindPath="last_bill_document" Grid.Row="2" Grid.Column="1" LabelWidth="120" />
                <RazerBase:ucLabelComboBox Name="cmbSalesperson" Grid.Column="3" Grid.Row="2" LabelText="Salesperson:" LabelWidth="113" SelectedValue="{Binding Path=salesperson_id, Mode=TwoWay}" Visibility="Hidden" />
                    <RazerBase:ucLabelDatePicker Name="ldtLastAuditDate" Grid.Row="2" Grid.Column="5" LabelText="Last Audit Date:" LabelWidth="120" BindPath="last_audit_date" />
                    <RazerBase:ucLabelComboBox Name="cmbBillingOwner" Grid.Column="5" Grid.Row="3" LabelText="Billing Owner:" LabelWidth="113" SelectedValue="{Binding Path=billing_owner_id, Mode=TwoWay}" />
                    <RazerBase:ucLabelTextBox Name="txtLastBillDate" LabelText="Last Bill Date:" Text="{Binding Path=last_bill_date, Mode=Default,StringFormat={}{0:MM/dd/yyyy}}" Grid.Row="3" Grid.Column="1" LabelWidth="120" IsReadOnly="True"  />
                    <RazerBase:ucLabelComboBox Name="cmbCurrencyCode" Grid.Column="3" Grid.Row="3" LabelText="Currency:" LabelWidth="113" SelectedValue="{Binding Path=currency_code, Mode=TwoWay}" />
                <RazerBase:ucLabelCheckBox Name="txtHoldFlag" LabelText="Hold:" BindPath="hold_flag" Grid.Row="4" Grid.Column="1" LabelWidth="120" Checked="txtHoldFlag_Checked" UnChecked="txtHoldFlag_UnChecked" />
                <!--Hold reason and hold date are disabled if Hold Flag is not checked-->
                <RazerBase:ucLabelDatePicker Name="ldtHoldDate" Grid.Row="4" Grid.Column="3" LabelText="Hold Date:" LabelWidth="120" BindPath="hold_date" IsEnabled="{Binding ElementName=txtHoldFlag, Path=IsChecked}" />
                <RazerBase:ucLabelTextBox Name="txtHoldReason" LabelText="Hold Reason:" BindPath="hold_reason" Grid.Row="5" Grid.Column="1" LabelWidth="120" Grid.ColumnSpan="5" IsEnabled="{Binding ElementName=txtHoldFlag, Path=IsChecked}"  />
                <RazerBase:ucLabelTextBox Name="txtInvDesc" LabelText="Invoice Desc:" BindPath="invoice_description" Grid.Row="6" Grid.Column="1" LabelWidth="120" Grid.ColumnSpan="5" />            
               

            </Grid>
        </Border>
        
   
    </Grid>
    </ScrollViewer>
    
</RazerBase:ScreenBase>
